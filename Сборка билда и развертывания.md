Сборка осуществляется только при условии , что был коммит на обновление чего либо : 

Залогинится в локальном Гитлабе : 

```
 docker login registry.afo.spb.ru
```

Качаем образ с гитлаба : 
git clone name.git
Заходим в папку с проектом и создаем новый билд :

```
docker build -t your_username/your_image_name:tag .
```

После создания образа , нужно задать тэг , для отправки созданного образа в Гитлаб :

```
docker tag stuxnetix/v1.0.1 registry.afo.spb.ru/data-mining/integration:v1.0.1
```

Делаем push в гитлаб-хаб , там создаться образ с именем 1.0.1 : 
```
docker push registry.afo.spb.ru/data-mining/proxy-tor:1.0.1
```
Обновить образ в Кубере (периодически для обновления , даже той же самой версии проэкта необходимо делать ребилд) : 
```
kubectl set image deployment/integration integration=registry.afo.spb.ru/data-mining/integration:stuxnetix-prod2
```

```
kubectl set image deployment/proxy-tor proxy-tor=registry.afo.spb.ru/data-mining/proxy-tor:1.0.1
```
