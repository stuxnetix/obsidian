Сборка осуществляется только при условии , что был коммит на обновление чего либо : 

Залогинится в локальном Гитлабе : 

```
 docker login test.registry.com
```

Качаем образ с гитлаба : 
git clone name.git
Заходим в папку с проектом и создаем новый билд :

```
docker build -t your_username/your_image_name:tag .
```

После создания образа , нужно задать тэг , для отправки созданного образа в Гитлаб :

```
docker tag stuxnetix/1.1.4c:red test.registy.com/data-mining/integration:1.1.4c
```

Делаем push в гитлаб-хаб , там создаться образ с именем 1.0.1 : 
```
docker push test.registry.com/data-mining/integration:1.1.4c
```
Обновить образ в Кубере (периодически для обновления , даже той же самой версии проэкта необходимо делать ребилд) : 
```
kubectl set image deployment/integration integration=test.registry.com/data-mining/integration:1.1.4c
```

```
kubectl set image deployment/proxy-tor proxy-tor=test.registry.com/data-mining/proxy-tor:1.0.1
```

```
kubectl set image deployment/proxy-chrome chrome-proxy=test.registry.com/data-mining/chrome-proxy:1.0.1
```
