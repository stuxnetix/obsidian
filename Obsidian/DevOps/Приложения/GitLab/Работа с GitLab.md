После того как зашел под своим ником в Гитлаб , нужно создать SSH ключ и токен :
```
ssh-keygen -o -t rsa -C "anything comment"
```
```
cat /home/user/.ssh/id_rsa.pub
```
Скопировать ключ SSH в Гитлаб 
Создать там же токен , дается на год если нужно , либо оставить без даты (без срока действия)


Создаем папку для проекта : 

mkdir project1 
cd /project1
```
git init --initial-branch=main
```

Обновить git если версия старая :
```
apt-add-repository -y ppa:git-core/ppa
apt update
```

Копируем или создаем там файлы и папки 

Задаем глобальные параметры для Гита 

git config --global user.name "User"
git config --global user.email "user@user.com"


```
git remote add origin https://gitlab.localhost.com/legacy/my-first-project.git
```
```
git add .
git commit -m "Up"
```
```
git branch -M main
```
```
git push -u origin main 
```
Если будет ошибка после Push , есть вариант с командой Pull :
```
git pull --rebase origin main
```
После этого можно пробовать снова пушить

Так как после каждого пуша запрашивается логин и пароль , есть вариант его отключить , включив кэширование :
```
git config credential.helper cache
```
После этого сделать пуш с логином и паролем , попробовать минут через 5 , пуш отправится автоматом. SSH ключ в гитлабе уже должен быть настроен.


Далее , если все должно работать только локально , без выхода в сеть , варианты обхода некоторых настроек , в идеале нужно все настроить правильно :

### Костыли :

На этом этапе может выйти ошибка , что DNS не настроен для адреса , можно отправить Push по IP адресу (посмотреть командой ip a) либо отредактировать файл hosts :
```
nano /etc/hosts 
```
Вставить туда Ip адрес и название домена
192.184.224.54 gitlab.test.net gitlab // as example

В случае повторного Push , выйдет ошибка об сертификате , исправляем так :
```
git config --global http.sslverify false
```

-------------------------------------------------------------
Что бы добавить разрешения для пользователя (скачать , пушить) нужно на его ПК так же создать SSH ключ :

```
ssh-keygen -o -t rsa -C "anything comment"
```
```
cat /home/user/.ssh/id_rsa.pub
```
Скопировать его и в разделе Admin Tools в Deploys Keys , добавить этот SSH ключ.
В настройках репозитория , так же находим раздел Deploys Keys , там есть уже ранее добавленный ключ с пользователем , жмем Enable 
