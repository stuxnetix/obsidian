Увеличиваем LVM объём раздела , если по ошибке или так получилось , что был выделен не полный объём свободного места для dev/mapper/ubuntu--vg--ubuntu--lv , т.к он часто забивается под 100%. На примере диска sda. 

Если машина крутится в Proxmox , останавливаем машину и выделяем в Hardware ей больше места с помощью ResizeDisk , цифру которую введет добавит + это кол-во , а не суммарно.

Примеры ниже приведены для конфигурации дисков с использованием LVM и GPT.

-----
Подключаемся по SSH на сервер и заходим под рута :

```
sudo -i
```

Проверяем с помощью df -h и lsblk , что у нас имеется. Обычно это sda и sda3


Заходим в утилиту parted

```
sudo parted /dev/sda
```

Вводим в утилите команду print : 

Она выведет информацию о разделах и используемой памятью.
Нас интересует общий размер диска (он будет больше чем в пункте 3) , если они разные по размеру , то делаем следующее (если одинаковые идем ниже к команде pvresize /dev/sda3 ) :

```
resizepart 3
```
Указываем полный объём диска или сколько нужно :
```
50.5GB
```

Далее выходим из программы Parted с командой quit  .

Выполняем проверку : 

```
df -h
```

Запоминаем параметры lvm раздела и задаем параметр : 

```
pvresize /dev/sda3
```

```
lvextend -r -l +100%FREE /dev/mapper/ubuntu--vg-ubuntu--lv
```

И заключительный шаг для расширения раздела : 

```
sudo resize2fs /dev/mapper/ubuntu--vg-ubuntu--lv
```

Если все прошло без ошибок , то размер раздела изменится. 

Проверяем : 

```
df -h
```

Готово!

----


#lvm #ubuntu #linux #devops #hdd 