Raid 0 применяется для максимальной скорости записи и чтения , минимальное кол-во дисков 2 , эффект только на скорость , если 1 диск полетит , данные будут уничтожены. Обьем всех дисков суммируется , можно подключать любых обьемов , скорость будет исходить от самого медленного.

Raid 1 - зеркальный тип , самый безопасный , например 2 диска по 500гб , будут дублировать друг друга , скорость по умолчанию , т.к 2 диска по 500 гб , то и общий обьем у них будет 500гб , т.к данные на обоих дисках одинаковые , при поломке 1 диска , данные остаются.
Минимум 2 диска. 

Raid 10 или 1+0 , Сочетание рейда 1 и 0 , высокая скорость и зеркальная запись , минимальные требования 4 диска , хороший плюс , что данные не будут утеряны при поломке любого из дисков или даже двух. 2Тб+2Тб+2Тб+2Тб = 4Тб (2 диска зеркало)
4х-кратная скорость чтения и 2х кратная запись
Кол-во дисков при увеличении , должно быть четным 4 , 6 , 8 и до 16

Raid 2 - 3 - 4 , метод Хеминга - 2 метод , требует в идеале 7 дисков , 4 используются для данных , остальные 3 для коррекции ошибок , в случае каких либо повреждений.
3 метод , медленный редко используется , 4 метод , хорош для мелких файлов , но нагрузка увеличивается на 1 из дисков в виду записи информации об остальных.


![[Pasted image 20240421185812.png]]

Установка Software Raid : 
На примере Ubuntu : 

Дойдя до выбора установки и размера жестких дисков , выбираем Ручную установку 
Создаем параметры на дисках Use as boot Device , потом выбираем Add GPT Partition 
там задаем 1G в настройке и формат системы - не форматируемый ! это важно. 
Через этот же параметр создаем Swap файл , желательно от кол-ва ОЗУ , в идеале в 2 раза больше , можно не создавать и сделать его позже. Не форматируемый.
Так же через этот же параметр создаем оставшееся свободное место , в параметре указать размер ничего не трогаем , сразу отмечаем на не форматируемый.
Через раздел Create Software Raid отмечаем и создаем boot 1GB разделы (отметить оба)
Появится раздел - который через параметр Add GPT Partition создаем в формат ext4 и выбираем куда он будет монтироваться , нужен /boot 
Swap файл так же отмечаем оба , потом в Add GPT Partition и там только вместо файловой системы указываем Swap и все.
Оставшийся размер все то же самое , ничего менять не нужно , файловая система по умолчанию и создать. 
Готово. 


Проверить как все работает cat /proc/mdstat 

Если какой то диск был отключен и после замены нужно восстановить рейд :
mdadm --add /dev/md0 /dev/sdb2
mdadm --add /dev/md2 /dev/sdb4 

Если диск новый , то делаем следующее :
sfdisk -d /dev/sda | /dev/sdb 
Это скопирует boot , swap и рабочие разделы с диска sda в sdb
